(function(e){function f(e,t,o,i,n){var r,l=n?n+o:n;if(i==null){if(t)e[n]=i}else if(typeof i!="object"){e[n]=i}else if(Array.isArray(i)){for(r=0;r<i.length;r++){f(e,t,o,i[r],l+r)}}else{for(r in i){if(i.hasOwnProperty(r))f(e,t,o,i[r],l+r)}}}function t(e,t,o){var i={};if(typeof e=="object"){f(i,!!o,t||".",e,"")}return i}if(typeof module==="object"&&typeof module.exports==="object"){module.exports=t}else if(typeof define==="function"&&define.amd){define("flattie",t)}else{e.flattie=t}})(this);