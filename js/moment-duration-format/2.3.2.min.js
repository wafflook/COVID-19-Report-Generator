/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(["moment"],t)}else if(typeof exports==="object"){try{module.exports=t(require("moment"))}catch(e){module.exports=t}}if(e){e.momentDurationFormatSetup=e.moment?t(e.moment):t}})(this,(function(e){var t=false;var r=false;var i=false;var n=false;var a="escape years months weeks days hours minutes seconds milliseconds general".split(" ");var u=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function l(e,t){if(t.length>e.length){return false}return e.indexOf(t)!==-1}function s(e){var t="";while(e){t+="0";e-=1}return t}function o(e){var t=e.split("").reverse();var r=0;var i=true;while(i&&r<t.length){if(r){if(t[r]==="9"){t[r]="0"}else{t[r]=(parseInt(t[r],10)+1).toString();i=false}}else{if(parseInt(t[r],10)<5){i=false}t[r]="0"}r+=1}if(i){t.push("1")}return t.reverse().join("")}function f(e,t){var r=V(T(t).sort(),(function(e){return e+":"+t[e]})).join(",");var i=e+"+"+r;if(!f.cache[i]){f.cache[i]=Intl.NumberFormat(e,t)}return f.cache[i]}f.cache={};function c(e,t,a){var u=t.useToLocaleString;var l=t.useGrouping;var m=l&&t.grouping.slice();var p=t.maximumSignificantDigits;var v=t.minimumIntegerDigits||1;var g=t.fractionDigits||0;var h=t.groupingSeparator;var y=t.decimalSeparator;if(u&&a){var d={minimumIntegerDigits:v,useGrouping:l};if(g){d.maximumFractionDigits=g;d.minimumFractionDigits=g}if(p&&e>0){d.maximumSignificantDigits=p}if(i){if(!n){var w=k({},t);w.useGrouping=false;w.decimalSeparator=".";e=parseFloat(c(e,w),10)}return f(a,d).format(e)}else{if(!r){var w=k({},t);w.useGrouping=false;w.decimalSeparator=".";e=parseFloat(c(e,w),10)}return e.toLocaleString(a,d)}}var S;if(p){S=e.toPrecision(p+1)}else{S=e.toFixed(g+1)}var V;var _;var x;var D=S.split("e");x=D[1]||"";D=D[0].split(".");_=D[1]||"";V=D[0]||"";var b=V.length;var M=_.length;var L=b+M;var T=V+_;if(p&&L===p+1||!p&&M===g+1){T=o(T);if(T.length===L+1){b=b+1}if(M){T=T.slice(0,-1)}V=T.slice(0,b);_=T.slice(b)}if(p){_=_.replace(/0*$/,"")}var F=parseInt(x,10);if(F>0){if(_.length<=F){_=_+s(F-_.length);V=V+_;_=""}else{V=V+_.slice(0,F);_=_.slice(F)}}else if(F<0){_=s(Math.abs(F)-V.length)+V+_;V="0"}if(!p){_=_.slice(0,g);if(_.length<g){_=_+s(g-_.length)}if(V.length<v){V=s(v-V.length)+V}}var I="";if(l){D=V;var j;while(D.length){if(m.length){j=m.shift()}if(I){I=h+I}I=D.slice(-j)+I;D=D.slice(0,-j)}}else{I=V}if(_){I=I+y+_}return I}function m(e,t){if(e.label.length>t.label.length){return-1}if(e.label.length<t.label.length){return 1}return 0}function p(e,t){var r=[];S(T(t),(function(i){if(i.slice(0,15)!=="_durationLabels"){return}var n=i.slice(15).toLowerCase();S(T(t[i]),(function(a){if(a.slice(0,1)===e){r.push({type:n,key:a,label:t[i][a]})}}))}));return r}function v(e,t,r){if(t===1&&r===null){return e}return e+e}var g={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:v};function h(e){return Object.prototype.toString.call(e)==="[object Array]"}function y(e){return Object.prototype.toString.call(e)==="[object Object]"}function d(e,t){var r=e.length;while(r-=1){if(t(e[r])){return e[r]}}}function w(e,t){var r=0;var i=e&&e.length||0;var n;if(typeof t!=="function"){n=t;t=function(e){return e===n}}while(r<i){if(t(e[r])){return e[r]}r+=1}}function S(e,t){var r=0,i=e.length;if(!e||!i){return}while(r<i){if(t(e[r],r)===false){return}r+=1}}function V(e,t){var r=0,i=e.length,n=[];if(!e||!i){return n}while(r<i){n[r]=t(e[r],r);r+=1}return n}function _(e,t){return V(e,(function(e){return e[t]}))}function x(e){var t=[];S(e,(function(e){if(e){t.push(e)}}));return t}function D(e){var t=[];S(e,(function(e){if(!w(t,e)){t.push(e)}}));return t}function b(e,t){var r=[];S(e,(function(e){S(t,(function(t){if(e===t){r.push(e)}}))}));return D(r)}function M(e,t){var r=[];S(e,(function(i,n){if(!t(i)){r=e.slice(n);return false}}));return r}function L(e,t){var r=e.slice().reverse();return M(r,t).reverse()}function k(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}function T(e){var t=[];for(var r in e){if(e.hasOwnProperty(r)){t.push(r)}}return t}function F(e,t){var r=0,i=e.length;if(!e||!i){return false}while(r<i){if(t(e[r],r)===true){return true}r+=1}return false}function I(e){var t=[];S(e,(function(e){t=t.concat(e)}));return t}function j(){var e=0;try{e.toLocaleString("i")}catch(e){return e.name==="RangeError"}return false}function G(e){return e(3.55,"en",{useGrouping:false,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function E(e){var t=true;t=t&&e(1,"en",{minimumIntegerDigits:1})==="1";t=t&&e(1,"en",{minimumIntegerDigits:2})==="01";t=t&&e(1,"en",{minimumIntegerDigits:3})==="001";if(!t){return false}t=t&&e(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100";t=t&&e(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0";t=t&&e(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99";t=t&&e(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990";if(!t){return false}t=t&&e(99.99,"en",{maximumSignificantDigits:1})==="100";t=t&&e(99.99,"en",{maximumSignificantDigits:2})==="100";t=t&&e(99.99,"en",{maximumSignificantDigits:3})==="100";t=t&&e(99.99,"en",{maximumSignificantDigits:4})==="99.99";t=t&&e(99.99,"en",{maximumSignificantDigits:5})==="99.99";if(!t){return false}t=t&&e(1e3,"en",{useGrouping:true})==="1,000";t=t&&e(1e3,"en",{useGrouping:false})==="1000";if(!t){return false}return true}function P(){var e=[].slice.call(arguments);var t={};var r;S(e,(function(e,i){if(!i){if(!h(e)){throw"Expected array as the first argument to durationsFormat."}r=e}if(typeof e==="string"||typeof e==="function"){t.template=e;return}if(typeof e==="number"){t.precision=e;return}if(y(e)){k(t,e)}}));if(!r||!r.length){return[]}t.returnMomentTypes=true;var i=V(r,(function(e){return e.format(t)}));var n=b(a,D(_(I(i),"type")));var u=t.largest;if(u){n=n.slice(0,u)}t.returnMomentTypes=false;t.outputTypes=n;return V(r,(function(e){return e.format(t)}))}function O(){var r=[].slice.call(arguments);var n=k({},this.format.defaults);var s=this.asMilliseconds();var o=this.asMonths();if(typeof this.isValid==="function"&&this.isValid()===false){s=0;o=0}var f=s<0;var v=e.duration(Math.abs(s),"milliseconds");var d=e.duration(Math.abs(o),"months");S(r,(function(e){if(typeof e==="string"||typeof e==="function"){n.template=e;return}if(typeof e==="number"){n.precision=e;return}if(y(e)){k(n,e)}}));var I={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"};var j={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};n.types=a;var G=function(e){return w(a,(function(t){return j[t].test(e)}))};var E=new RegExp(V(a,(function(e){return j[e].source})).join("|"),"g");n.duration=this;var P=typeof n.template==="function"?n.template.apply(n):n.template;var O=n.outputTypes;var H=n.returnMomentTypes;var N=n.largest;var $=[];if(!O){if(h(n.stopTrim)){n.stopTrim=n.stopTrim.join("")}if(n.stopTrim){S(n.stopTrim.match(E),(function(e){var t=G(e);if(t==="escape"||t==="general"){return}$.push(t)}))}}var K=e.localeData();if(!K){K={}}S(T(g),(function(e){if(typeof g[e]==="function"){if(!K[e]){K[e]=g[e]}return}if(!K["_"+e]){K["_"+e]=g[e]}}));S(T(K._durationTimeTemplates),(function(e){P=P.replace("_"+e+"_",K._durationTimeTemplates[e])}));var R=n.userLocale||e.locale();var U=n.useLeftUnits;var q=n.usePlural;var A=n.precision;var C=n.forceLength;var W=n.useGrouping;var Y=n.trunc;var z=n.useSignificantDigits&&A>0;var B=z?n.precision:0;var J=B;var Q=n.minValue;var X=false;var Z=n.maxValue;var ee=false;var te=n.useToLocaleString;var re=n.groupingSeparator;var ie=n.decimalSeparator;var ne=n.grouping;te=te&&(t||i);var ae=n.trim;if(h(ae)){ae=ae.join(" ")}if(ae===null&&(N||Z||z)){ae="all"}if(ae===null||ae===true||ae==="left"||ae==="right"){ae="large"}if(ae===false){ae=""}var ue=function(e){return e.test(ae)};var le=/large/;var se=/small/;var oe=/both/;var fe=/mid/;var ce=/^all|[^sm]all/;var me=/final/;var pe=N>0||F([le,oe,ce],ue);var ve=F([se,oe,ce],ue);var ge=F([fe,ce],ue);var he=F([me,ce],ue);var ye=V(P.match(E),(function(e,t){var r=G(e);if(e.slice(0,1)==="*"){e=e.slice(1);if(r!=="escape"&&r!=="general"){$.push(r)}}return{index:t,length:e.length,text:"",token:r==="escape"?e.replace(j.escape,"$1"):e,type:r==="escape"||r==="general"?null:r}}));var de={index:0,length:0,token:"",text:"",type:null};var we=[];if(U){ye.reverse()}S(ye,(function(e){if(e.type){if(de.type||de.text){we.push(de)}de=e;return}if(U){de.text=e.token+de.text}else{de.text+=e.token}}));if(de.type||de.text){we.push(de)}if(U){we.reverse()}var Se=b(a,D(x(_(we,"type"))));if(!Se.length){return _(we,"text").join("")}Se=V(Se,(function(e,t){var r=t+1===Se.length;var i=!t;var a;if(e==="years"||e==="months"){a=d.as(e)}else{a=v.as(e)}var u=Math.floor(a);var l=a-u;var s=w(we,(function(t){return e===t.type}));if(i&&Z&&a>Z){ee=true}if(r&&Q&&Math.abs(n.duration.as(e))<Q){X=true}if(i&&C===null&&s.length>1){C=true}v.subtract(u,e);d.subtract(u,e);return{rawValue:a,wholeValue:u,decimalValue:r?l:0,isSmallest:r,isLargest:i,type:e,tokenLength:s.length}}));var Ve=Y?Math.floor:Math.round;var _e=function(e,t){var r=Math.pow(10,t);return Ve(e*r)/r};var xe=false;var De=false;var be=function(e,t){var r={useGrouping:W,groupingSeparator:re,decimalSeparator:ie,grouping:ne,useToLocaleString:te};if(z){if(B<=0){e.rawValue=0;e.wholeValue=0;e.decimalValue=0}else{r.maximumSignificantDigits=B;e.significantDigits=B}}if(ee&&!De){if(e.isLargest){e.wholeValue=Z;e.decimalValue=0}else{e.wholeValue=0;e.decimalValue=0}}if(X&&!De){if(e.isSmallest){e.wholeValue=Q;e.decimalValue=0}else{e.wholeValue=0;e.decimalValue=0}}if(e.isSmallest||e.significantDigits&&e.significantDigits-e.wholeValue.toString().length<=0){if(A<0){e.value=_e(e.wholeValue,A)}else if(A===0){e.value=Ve(e.wholeValue+e.decimalValue)}else{if(z){if(Y){e.value=_e(e.rawValue,B-e.wholeValue.toString().length)}else{e.value=e.rawValue}if(e.wholeValue){B-=e.wholeValue.toString().length}}else{r.fractionDigits=A;if(Y){e.value=e.wholeValue+_e(e.decimalValue,A)}else{e.value=e.wholeValue+e.decimalValue}}}}else{if(z&&e.wholeValue){e.value=Math.round(_e(e.wholeValue,e.significantDigits-e.wholeValue.toString().length));B-=e.wholeValue.toString().length}else{e.value=e.wholeValue}}if(e.tokenLength>1&&(C||xe)){r.minimumIntegerDigits=e.tokenLength;if(De&&r.maximumSignificantDigits<e.tokenLength){delete r.maximumSignificantDigits}}if(!xe&&(e.value>0||ae===""||w($,e.type)||w(O,e.type))){xe=true}e.formattedValue=c(e.value,r,R);r.useGrouping=false;r.decimalSeparator=".";e.formattedValueEn=c(e.value,r,"en");if(e.tokenLength===2&&e.type==="milliseconds"){e.formattedValueMS=c(e.value,{minimumIntegerDigits:3,useGrouping:false},"en").slice(0,2)}return e};Se=V(Se,be);Se=x(Se);if(Se.length>1){var Me=function(e){return w(Se,(function(t){return t.type===e}))};var Le=function(e){var t=Me(e.type);if(!t){return}S(e.targets,(function(e){var r=Me(e.type);if(!r){return}if(parseInt(t.formattedValueEn,10)===e.value){t.rawValue=0;t.wholeValue=0;t.decimalValue=0;r.rawValue+=1;r.wholeValue+=1;r.decimalValue=0;r.formattedValueEn=r.wholeValue.toString();De=true}}))};S(u,Le)}if(De){xe=false;B=J;Se=V(Se,be);Se=x(Se)}if(O&&!(ee&&!n.trim)){Se=V(Se,(function(e){if(w(O,(function(t){return e.type===t}))){return e}return null}));Se=x(Se)}else{if(pe){Se=M(Se,(function(e){return!e.isSmallest&&!e.wholeValue&&!w($,e.type)}))}if(N&&Se.length){Se=Se.slice(0,N)}if(ve&&Se.length>1){Se=L(Se,(function(e){return!e.wholeValue&&!w($,e.type)&&!e.isLargest}))}if(ge){Se=V(Se,(function(e,t){if(t>0&&t<Se.length-1&&!e.wholeValue){return null}return e}));Se=x(Se)}if(he&&Se.length===1&&!Se[0].wholeValue&&!(!Y&&Se[0].isSmallest&&Se[0].rawValue<Q)){Se=[]}}if(H){return Se}S(we,(function(e){var t=I[e.type];var r=w(Se,(function(t){return t.type===e.type}));if(!t||!r){return}var i=r.formattedValueEn.split(".");i[0]=parseInt(i[0],10);if(i[1]){i[1]=parseFloat("0."+i[1],10)}else{i[1]=null}var n=K.durationPluralKey(t,i[0],i[1]);var a=p(t,K);var u=false;var s={};S(K._durationLabelTypes,(function(t){var r=w(a,(function(e){return e.type===t.type&&e.key===n}));if(r){s[r.type]=r.label;if(l(e.text,t.string)){e.text=e.text.replace(t.string,r.label);u=true}}}));if(q&&!u){a.sort(m);S(a,(function(t){if(s[t.type]===t.label){if(l(e.text,t.label)){return false}return}if(l(e.text,t.label)){e.text=e.text.replace(t.label,s[t.type]);return false}}))}}));we=V(we,(function(e){if(!e.type){return e.text}var t=w(Se,(function(t){return t.type===e.type}));if(!t){return""}var r="";if(U){r+=e.text}if(f&&ee||!f&&X){r+="< ";ee=false;X=false}if(f&&X||!f&&ee){r+="> ";ee=false;X=false}if(f&&(t.value>0||ae===""||w($,t.type)||w(O,t.type))){r+="-";f=false}if(e.type==="milliseconds"&&t.formattedValueMS){r+=t.formattedValueMS}else{r+=t.formattedValue}if(!U){r+=e.text}return r}));return we.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,"")}function H(){var e=this.duration;var t=function t(r){return e._data[r]};var r=w(this.types,t);var i=d(this.types,t);switch(r){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(r===i){return"d __"}case"weeks":if(r===i){return"w __"}if(this.trim===null){this.trim="both"}return"w __, d __, h __";case"months":if(r===i){return"M __"}case"years":if(r===i){return"y __"}if(this.trim===null){this.trim="both"}return"y __, M __, d __";default:if(this.trim===null){this.trim="both"}return"y __, d __, h __, m __, s __"}}function N(e){if(!e){throw"Moment Duration Format init cannot find moment instance."}e.duration.format=P;e.duration.fn.format=O;e.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:false,forceLength:null,userLocale:null,usePlural:true,useLeftUnits:false,useGrouping:true,useSignificantDigits:false,template:H,useToLocaleString:true,groupingSeparator:",",decimalSeparator:".",grouping:[3]};e.updateLocale("en",g)}var $=function(e,t,r){return e.toLocaleString(t,r)};t=j()&&E($);r=t&&G($);var K=function(e,t,r){if(typeof window!=="undefined"&&window&&window.Intl&&window.Intl.NumberFormat){return window.Intl.NumberFormat(t,r).format(e)}};i=E(K);n=i&&G(K);N(e);return N}));